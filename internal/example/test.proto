// Copyright Â© 2025 Prabhjot Singh Sethi, All Rights reserved
// Author: Prabhjot Singh Sethi <prabhjot.sethi@gmail.com>

syntax = "proto3";

package example;

import "coreapis/api/role.proto";
import "google/api/annotations.proto";

option go_package = "github.com/Prabhjot-Sethi/grpc-core/internal/example";

service HelloWorld {
  // sample post request
  // comment line 1
  // comment line 2
  rpc PostObject(PostRequest) returns (PostResponse) {
    option (google.api.http) = {
      post: "/v1/object/{name}"
      body: "*"
    };
    option (api.role) = {
      resource: "object"
      scope: "abc"
      scope: "def"
      verb: "create"
    };
  }

  // sample get request
  // comment line 1
  rpc GetObject(PostRequest) returns (PostResponse) {
    option (google.api.http) = {
      get: "/v1/object/{name}"
    };
    option (api.role) = {
      resource: "object"
      scope: "abc"
      scope: "def"
      verb: "get"
    };
  }
}

message PostRequest {
  // name of the object
  string name = 1;

  // description of the object
  string desc = 2;

  // optional test parameter
  optional bool test = 3;
}

message PostResponse {
  // name of the object
  string name = 1;

  // description of the object
  string desc = 2;
}
